{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}Smart Parking Bay Management System{% endblock %}</title>

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    body {
      background:#f8fafc;
      font-family:"Segoe UI",sans-serif;
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }
    .navbar { background:linear-gradient(90deg,#0d6efd,#0a58ca); }
    footer {
      background:#f1f5f9;
      padding:12px 0;
      text-align:center;
      color:#6b7280;
      font-size:.9rem;
      margin-top:auto;
    }
    .hero {
      background:url('https://images.unsplash.com/photo-1502877338535-766e1452684a?auto=format&fit=crop&w=1600&q=80')
      center/cover no-repeat;
      color:#fff;
      padding:70px 20px;
      text-align:center;
    }
    .content-wrapper {
      flex:1;
      padding:24px 0 40px;
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark shadow-sm">
    <div class="container-fluid px-4">
      <a class="navbar-brand fw-semibold" href="{% url 'home' %}">Smart Parking Bay</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div id="navbarNav" class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto">

          {% if user.is_authenticated %}
              <!-- Dashboard Links -->
              <li class="nav-item"><a class="nav-link" href="{% url 'admin_dashboard' %}">Admin</a></li>
              <li class="nav-item"><a class="nav-link" href="{% url 'employee_dashboard' %}">Employee</a></li>
              <li class="nav-item"><a class="nav-link" href="{% url 'security_dashboard' %}">Security</a></li>

              <!-- Logout -->
              <li class="nav-item">
                <a class="nav-link text-light fw-semibold" href="{% url 'logout' %}">
                  <i class="bi bi-box-arrow-right"></i> Logout
                </a>
              </li>

          {% else %}
              <!-- Only show login and signup when logged out -->
              <li class="nav-item">
                <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#loginModal">
                  <i class="bi bi-box-arrow-in-right"></i> Login
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{% url 'signup' %}">
                  <i class="bi bi-person-plus"></i> Sign Up
                </a>
              </li>
          {% endif %}

        </ul>
      </div>
    </div>
  </nav>

  <!-- Optional hero -->
  {% block hero %}{% endblock %}

  <!-- Page Content -->
  <div class="container content-wrapper">
    {% block content %}{% endblock %}
  </div>

  <!-- Footer -->
  <footer>
    Â© 2025 Smart Parking Bay Management System | Powered by AWS Cloud
  </footer>

  <!-- Login Modal (works globally) -->
  <div class="modal fade" id="loginModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content p-4">
        <h3 class="mb-3 fw-bold text-center">Login</h3>

        <form method="POST" action="{% url 'login' %}">
          {% csrf_token %}

          <label class="form-label fw-semibold">Role</label>
          <select name="role" class="form-select mb-3" required>
            <option value="">Select Role</option>
            <option value="employee">Employee</option>
            <option value="security">Security</option>
            <option value="admin">Admin</option>
          </select>

          <label class="form-label fw-semibold">Email</label>
          <input type="email" name="email" class="form-control mb-3" required>

          <label class="form-label fw-semibold">Password</label>
          <input type="password" name="password" class="form-control mb-4" required>

          <button class="btn btn-primary w-100 py-2">Sign In</button>
        </form>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>


